<div class="m-container">
  <mat-card class="m-title">
    <h3>Fees Collection</h3>
  </mat-card>
  <mat-card style="min-height: 77vh">
    <div
      style="display: flex; justify-content: space-between"
      class="m-table-container top-head"
    >
      <div class="container">
        <div style="display: flex; flex-direction: row">
          <div class="column">
            <div class="fees-title">Fees Shared with Club</div>
            <button
              mat-raised-button
              class="fees-btn"
              [class.fees-btn-active]="planType === 'subscription'"
              (click)="toggleActive('subscription')"
            >
              Subscriptions
            </button>

            <button
              mat-raised-button
              class="fees-btn"
              [class.fees-btn-active]="planType === 'store'"
              (click)="toggleActive('store')"
            >
              Store
            </button>
          </div>
        </div>
      </div>
      <div class="container">
        <div style="display: flex; flex-direction: row">
          <div class="column">
            <div class="fees-title">Event Payment Collections</div>
            <!-- <button
              mat-raised-button
              class="fees-evnt-btn fees-evnt-btn-active"
            >
              Tryouts
            </button>
            <button mat-raised-button class="fees-evnt-btn">Uniforms</button>
            <button mat-raised-button class="fees-evnt-btn">Tournaments</button>
            <button mat-raised-button class="fees-evnt-btn">Events</button> -->
            <ng-container *ngFor="let eventType of eventTypes; let i = index">
              <button
                mat-raised-button
                class="fees-evnt-btn"
                [class.fees-evnt-btn-active]=" eventType?._id === activeEventType"
                (click)="toggleEventType(eventType?._id)"
              >
                {{ eventType?.event_type }}
              </button>
            </ng-container>
          </div>
        </div>
      </div>
    </div>

    <mat-card-content>
      <div class="fees-tbl-title">Subscriptions Revenue Share</div>
      <div class="m-table-container" *ngIf="tabledataloaded">
        <mat-table #table [dataSource]="dataSource" matSort>
          <!-- Static Column -->
          <ng-container matColumnDef="staticColumn">
            <mat-header-cell *matHeaderCellDef>{{
              staticColumn
            }}</mat-header-cell>
            <mat-cell *matCellDef="let element">{{
              element[staticColumn]
            }}</mat-cell>
          </ng-container>

          <!-- Dynamic Column Headers -->
          <ng-container
            *ngFor="let column of dynamicColumns"
            matColumnDef="{{ column }}"
          >
            <mat-header-cell *matHeaderCellDef>{{ column }}</mat-header-cell>
            <mat-cell *matCellDef="let element">{{ element[column] }}</mat-cell>
          </ng-container>

          <!-- Total Column -->
          <ng-container matColumnDef="Total">
            <mat-header-cell *matHeaderCellDef>Total</mat-header-cell>
            <mat-cell *matCellDef="let element">{{
              element["Total"]
            }}</mat-cell>
          </ng-container>

          <!-- Table Header -->
          <mat-header-row
            *matHeaderRowDef="
              ['staticColumn'].concat(dynamicColumns).concat('Total')
            "
          ></mat-header-row>
          <mat-header-row>
            <mat-header-cell *matHeaderCellDef>{{
              staticColumn
            }}</mat-header-cell>
            <ng-container *ngFor="let column of dynamicColumns">
              <mat-header-cell *matHeaderCellDef>{{ column }}</mat-header-cell>
            </ng-container>
            <mat-header-cell *matHeaderCellDef>Total</mat-header-cell>
          </mat-header-row>

          <!-- Table Rows -->
          <mat-row
            *matRowDef="
              let row;
              columns: ['staticColumn'].concat(dynamicColumns).concat('Total');
              let lastRow = last
            "
            [ngClass]="{ 'bold-row': lastRow }"
          >
          </mat-row>
        </mat-table>

        <!-- <mat-paginator [length]="100" [pageSize]="100" [pageSizeOptions]="[25, 50, 75, 100]">
                </mat-paginator> -->
      </div>
    </mat-card-content>
  </mat-card>
</div>
